import { registerGateways, run } from "encore.dev/internal/codegen/appinit";
import { isMainThread } from "node:worker_threads";

{{#each gateways}}
import { {{bind_name}} as {{encoreNameToIdent encore_name}}Impl } from {{toJSON import_path}};
{{/each}}

const gateways = [
{{#each gateways}}
    {{encore_name}}Impl,
{{/each}}
];

if (isMainThread) {
    registerGateways(gateways);
    await run();
}
