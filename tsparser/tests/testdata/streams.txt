-- foo/foo.ts --
import { api } from "encore.dev/api";

export type Handshake = {
    id: string;
};
export type InMessage = {
    data: {
        foo: string;
        bar: number;
    };
};
export type OutMessage = {
    foo: string;
    bar: number;
    baz: { qux: string };
}

export const inoutStream = api.streamInOut<Handshake, InMessage, OutMessage>({}, (handshake, stream) => {});
export const inStream = api.streamIn<Handshake, InMessage>({}, (handshake, stream) => {});
export const outStream = api.streamOut<Handshake, OutMessage>({}, (handshake, stream) => {});


-- package.json --
{
  "name": "foo",
  "type": "module",
  "dependencies": {
    "encore.dev": "^1.52.2"
  }
}
